<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">
      <div align="center">
        <ui:define name="title">
            
            <h:outputText value="#{configMapController.getKey('ViewStatsTakenTitle')}"></h:outputText>
        </ui:define>
          </div>
        <ui:define name="body">



            <div align="center">
                <h:form id="form1">
                    <p:growl id="growl" showDetail="true"/> 

                    <h:panelGrid columns="5" width="600px">
                        <h:outputText value="#{configMapController.getKey('ViewStatsTakenLabel_id')}"/>

                        <h:outputText value="#{configMapController.getKey('ViewStatsTakenLabel_dateRecorded')}"/>
                        <h:outputText value="#{configMapController.getKey('ViewStatsTakenLabel_trainerComments')}"/>

                        <h:outputText value="#{configMapController.getKey('ViewStatsTakenLabel_customerId')}"/>
                        <h:outputLabel value="Actions" />

                        <h:outputText value="#{statsTakenController.selected.id}" title="#{configMapController.getKey('ViewStatsTakenTitle_id')}"/>
                        <h:outputText value="#{statsTakenController.selected.dateRecorded}" title="#{configMapController.getKey('ViewStatsTakenTitle_dateRecorded')}">
                            <f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
                        </h:outputText>

                        <h:outputText value="#{statsTakenController.selected.trainerComments}" title="#{configMapController.getKey('ViewStatsTakenTitle_trainerComments')}"/>
                        <h:outputText value="#{statsTakenController.selected.customerId}" title="#{configMapController.getKey('ViewStatsTakenTitle_customerId')}"/>   
                        <h:panelGrid>


                            <h:commandLink action="#{statsTakenController.destroyAndView}" value="#{configMapController.getKey('ViewStatsTakenDestroyLink')}"/>

                            <h:commandLink action="Edit" value="#{configMapController.getKey('ViewStatsTakenEditLink')}"/>

                            <h:commandLink action="#{statsTakenController.prepareCreate}" value="#{configMapController.getKey('ViewStatsTakenCreateLink')}" />

                            <h:commandLink action="#{statsTakenController.prepareList}" value="#{configMapController.getKey('ViewStatsTakenShowAllLink')}"/>

                            <h:commandLink value="#{configMapController.getKey('ViewStatsTakenIndexLink')}" action="/admin/index" immediate="true" />

                        </h:panelGrid>
                    </h:panelGrid>
                </h:form><h:form id="form2">
                    <h:panelGrid rendered="#{statController.items.rowCount > 0}" width="600px" >
                        <p:dataTable value="#{statController.items}" var="item"  >
                            <p:column sortBy="#{item.statType}">
                                <f:facet name="header">
                                    <h:outputText value="#{configMapController.getKey('ListStatTitle_statType')}"/>
                                </f:facet>
                                <h:outputText value="#{item.statType.name}"/>
                            </p:column>

                            <p:column sortBy="#{item.value}" headerText="#{configMapController.getKey('ListStatTitle_value')}" >
                                <p:cellEditor>  
                                    <f:facet name="output">  
                                        <h:outputText value="#{item.value}" />  
                                    </f:facet>  
                                    <f:facet name="input">  
                                        <h:inputText value="#{item.value}" style="width:100%"/>  
                                    </f:facet>  
                                </p:cellEditor>  
                            </p:column>

                        </p:dataTable>

                    </h:panelGrid>
                </h:form>
            </div>


        </ui:define>
    </ui:composition>

</html>
