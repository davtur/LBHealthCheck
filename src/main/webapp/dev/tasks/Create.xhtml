
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/WEB-INF/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui" >

    
        <ui:define name="title">
            <h:outputText value="#{configMapController.getKey('CreateTasksTitle')}"></h:outputText>
        </ui:define>
        <ui:define name="body">
            <h:form id="createTasksForm1">
                <h:panelGroup id="messagePanel" layout="block">
                    <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
                </h:panelGroup>

                <p:panel>
                    <h:panelGrid columns="4">
                        <h:panelGrid columns="2">
                            <h:outputLabel value="#{configMapController.getKey('CreateTasksLabel_name')}" for="name" />
                            <p:inputText id="name" value="#{tasksController.selected.name}" title="#{configMapController.getKey('CreateTasksTitle_name')}" />
                        </h:panelGrid>
                        <h:panelGrid columns="2">
                            <h:outputLabel value="#{configMapController.getKey('CreateTasksLabel_cronEntry')}" for="cronEntry" />
                            <p:inputText id="cronEntry" value="#{tasksController.selected.cronEntry}" title="#{configMapController.getKey('CreateTasksTitle_cronEntry')}" />
                        </h:panelGrid>
                        <h:panelGrid columns="2">
                            <h:outputLabel value="#{configMapController.getKey('CreateTasksLabel_taskClassName')}" for="taskClassName" />
                            <h:selectOneMenu id="taskClassName" value="#{tasksController.selected.taskClassName}" title="#{configMapController.getKey('EditTasksTitle_taskClassName')}" required="true" requiredMessage="#{configMapController.getKey('EditTasksRequiredMessage_taskClassName')}">
                                <f:selectItems value="#{configMapController.getConfigJobClassesAvailableSelectOne()}"/>
                            </h:selectOneMenu>
                        </h:panelGrid>
                        <h:panelGrid columns="2">
                            <h:outputLabel value="#{configMapController.getKey('CreateTasksLabel_description')}" for="description" />
                            <p:inputTextarea rows="4" cols="30" id="description" value="#{tasksController.selected.description}" title="#{configMapController.getKey('CreateTasksTitle_description')}" />
                        </h:panelGrid>

                    </h:panelGrid>

                </p:panel>
                <h:panelGrid columns="2">
                    <p:commandButton   ajax="false"   action="#{tasksController.create}" value="#{configMapController.getKey('CreateTasksSaveLink')}" />

                    <p:commandButton   ajax="false"   action="#{tasksController.prepareList}" value="#{configMapController.getKey('CreateTasksShowAllLink')}" immediate="true"/>
                </h:panelGrid>
            </h:form>
            <h:form id="configForm">

                <p:panel>
                    <h:outputLabel value="#{configMapController.getKey('CreateTaskConfigMapLabel_value')}"  />
                </p:panel>
                <p:panel>
                    <h:panelGrid columns="1">
                        <h:outputLabel value="Bulk Insert (Basic key use: key=value OR to use Configmap: key==[config map key])" for="bulkvalue" />
                        <p:inputTextarea style="width:1000px" autoResize="true" rows="20" cols="300" id="bulkvalue" value="#{jobConfigMapController.bulkvalue}" title="#{configMapController.getKey('CreateConfigMapTitle_bulkvalue')}" >
                            <p:ajax process="bulkvalue" event="keyup"/>
                        </p:inputTextarea>
                    </h:panelGrid>
                </p:panel>

                <p:panel>
                    <h:panelGrid columns="1">
                        <h:outputLabel value="Rejected Entries due to Duplicate Key Values Found" for="duplicatevalue" />
                        <p:inputTextarea  style="width:1000px" autoResize="true"  rows="10" cols="300" id="duplicatevalue" value="#{jobConfigMapController.duplicateValues}" title="#{configMapController.getKey('CreateConfigMapTitle_bulkvalue')}" />
                    </h:panelGrid>
                </p:panel>
            </h:form>

        </ui:define>
    </ui:composition>


