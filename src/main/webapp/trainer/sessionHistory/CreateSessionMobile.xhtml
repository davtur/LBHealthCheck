<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pm="http://primefaces.org/mobile">

    <f:view renderKitId="PRIMEFACES_MOBILE" />


    <h:head>

    </h:head>

    <h:body>


        <!-- Main View  -->
        <pm:page id="sessions"  title="Training Session" >

            <pm:header  swatch="b" title="Pure Fitness Mobile">

                <f:facet name="left"><h:form><p:commandButton value="Back" style="width:100px" icon="back" action="/mobileMenu?faces-redirect=true" ajax="false"/></h:form></f:facet>
            </pm:header>  
            <pm:content >            

                <h:form id="sessionsForm">  
                    <p:growl/>
                    <p:commandButton   ajax="false"   action="#{sessionHistoryController.createMobile}" value="#{configMapController.getKey('CreateSessionHistorySaveLink')}" />

                    <p:spacer height="10em" />

                    <pm:field>
                        <p:outputLabel for="sessiondate" value="#{configMapController.getKey('CreateSessionHistoryLabel_sessiondate')}" />
                        <p:calendar id="sessiondate" value="#{sessionHistoryController.selected.sessiondate}"  pattern="dd/MM/yyyy" mode="inline"/>
                    </pm:field>  
                    <pm:field>
                        <p:outputLabel for="sessiontime" value="Session Start Time:" />
                        <p:inputText id="sessiontime" value="#{sessionHistoryController.selectedSessionTime}" >
                            <f:convertDateTime  pattern="hhmm" />
                        </p:inputText>
                    </pm:field>  


                    <p:spacer height="10em" />

                    <pm:field>
                        <p:outputLabel for="sessionType" value="#{configMapController.getKey('CreateSessionHistoryLabel_sessionType')}" />
                        <p:selectOneMenu id="sessionType" value="#{sessionHistoryController.selected.sessionTypesId}" label="#{configMapController.getKey('CreateSessionHistoryLabel_sessionType')}"  converter="#{sessTypesConverter}" required="true" requiredMessage="#{configMapController.getKey('CreateSessionHistoryRequiredMessage_sessionType')}">
                            <f:selectItems value="#{sessionTypesController.itemsAvailableSelectOne}" />
                        </p:selectOneMenu>
                    </pm:field>

                    <p:spacer height="10em" />

                    <pm:field>
                        <p:outputLabel for="sessionType" value="#{configMapController.getKey('CreateSessionHistoryLabel_trainer')}" />
                        <p:selectCheckboxMenu id="trainer" filter="true" filterMatchMode="startsWith"  value="#{sessionHistoryController.trainers}" converter="#{custConverter}" label="#{configMapController.getKey('CreateSessionHistoryLabel_trainer')}"  >
                            <f:selectItems value="#{sessionHistoryController.activeTrainers}" var="cust" itemLabel="#{cust.firstname} #{cust.lastname}" itemValue="#{cust}"/>
                        </p:selectCheckboxMenu>
                    </pm:field>

                    <p:spacer height="10em" />
                    <pm:field>
                        <p:outputLabel for="comments" value="#{configMapController.getKey('CreateSessionHistoryLabel_comments')}" />
                        <p:inputTextarea id="comments" value="#{sessionHistoryController.selected.comments}"  />
                    </pm:field>
                    <p:spacer height="10em" />
                    <pm:field>
                        <p:outputLabel for="scroll" value="#{configMapController.getKey('CreateSessionHistoryLabel_picker')}" />
                        <p:selectCheckboxMenu  id="scroll" filter="true" filterMatchMode="startsWith" value="#{sessionHistoryController.attendingCustomers}"  converter="#{custConverter}" label="#{configMapController.getKey('CreateSessionHistoryLabel_picker')}">  
                            <f:selectItems value="#{sessionHistoryController.activeCustomers}" var="cust"  itemLabel="#{cust.firstname} #{cust.lastname}" itemValue="#{cust}" />  
                        </p:selectCheckboxMenu>
                    </pm:field>
                    <p:spacer height="10em" />
                    <p:spacer height="10em" />
                    <p:commandButton   ajax="false"   action="#{sessionHistoryController.createMobile}" value="#{configMapController.getKey('CreateSessionHistorySaveLink')}" />
                </h:form>
                <!-- <p:dialog id="createNotesDialog" widgetVar="createSessionDlg">
                     <h:form id="dlgCSForm">  

                         <p:dataList    value="#{customersController.items}" var="cust">
                             <f:attribute name="filter" value="true" />
                             <p:column>
                                 <p:commandLink action="/trainer/sessionHistory/CreateCustomerNotes?faces-redirect=true" ajax="false" >
                                     <h:outputText value="#{notes.createTimestamp}">
                                         <f:convertDateTime pattern="dd MMM yyyy  HH:mm" />
                                     </h:outputText> 
                                     <h:outputText value="#{cust.firstname} #{cust.lastname}"/>
                                     <h:outputText styleClass="ui-li-count" value="Edit"/>           

                                     <f:setPropertyActionListener value="#{cust}" target="#{notesController.selectedUser}"  />

                                 </p:commandLink> 
                             </p:column>
                         </p:dataList>
                     </h:form>
                 </p:dialog> -->



            </pm:content>

        </pm:page>
    </h:body>
</html>
