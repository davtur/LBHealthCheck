<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pm="http://primefaces.org/mobile">

    <f:view renderKitId="PRIMEFACES_MOBILE" />


    <h:head>
   
    </h:head>

    <h:body>

          <!-- Main View  -->
         <pm:page id="createCustomerNotes" title="Customer  Notes" >
    
            <pm:header title="Create Notes" swatch="b" >
                <f:facet name="left"><h:form id="notesForm2">  
                        <p:commandButton value="Back" style="width:100px" icon="back" action="/mobileMenu?faces-redirect=true" ajax="false"/>
                </h:form></f:facet>
            </pm:header>
            <pm:content >  
                <p:dialog id="createNotesDialog" widgetVar="createNotesDlg">
                    <h:form id="dlgForm">  
                        <h4>#{configMapController.getKey('CreateNotesLabel_comments')}</h4>
                        <p:inputTextarea id="comments"  value="#{notesController.selected.note}"  />

                        <p:spacer height="10em" />
                        <p:commandButton oncomplete="PF('createNotesDlg').hide()" action="#{notesController.createFromMobile()}" value="#{configMapController.getKey('CreateNotesSaveLink')}" update=":createCustomerNotes:notesForm:notesList,:createCustomerNotes:dlgForm:comments"/>
                    </h:form>
                </p:dialog> 
                <p:outputPanel >
                    <h:form id="notesForm">  
                        <p:growl/>
                        <h:outputText value="#{notesController.selectedUser.firstname} #{notesController.selectedUser.lastname}"/>
                        <p:spacer height="10em" /><br/>
                       <!-- <h:outputText value="Email: #{notesController.selectedUser.emailAddress}"/>-->
                       <h:outputLink value="mailto:#{notesController.selectedUser.emailAddress}">
                            <h:outputText value="Email: #{notesController.selectedUser.emailAddress}" />
                        </h:outputLink>
                        <p:spacer height="10em" /><br/> 
                        <h:outputLink value="tel:#{notesController.selectedUser.telephone}">
                            <h:outputText value="Phone: #{notesController.selectedUser.telephone}" />
                        </h:outputLink>
                        <!--<p:commandLink  value="Phone: #{notesController.selectedUser.telephone} "/>-->
                        <p:spacer height="10em" />


                        <p:commandButton   type="button"   onclick="PF('createNotesDlg').show()"  value="#{configMapController.getKey('CreateNotesCreateLink')}" />


                        <p:spacer height="10em" />
                        <p:dataList  id="notesList" widgetVar="notesDataList" value="#{notesController.customerNoteItems}" var="notes">
                            <p:column>
                                <h3><p:outputLabel value="#{notes.createTimestamp}">
                                        <f:convertDateTime pattern="dd MMM yyyy  HH:mm" />
                                    </p:outputLabel></h3> <br/>
                                <h:outputText value="#{notes.note}"/>

                            </p:column>
                        </p:dataList>

                    </h:form>
                </p:outputPanel>
            </pm:content>
   
    </pm:page>
   </h:body>
</html>

