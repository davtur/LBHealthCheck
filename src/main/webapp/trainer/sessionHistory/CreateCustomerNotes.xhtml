<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:pm="http://primefaces.org/mobile"
        contentType="text/html"
        renderKitId="PRIMEFACES_MOBILE">

    <pm:page title="Customer  Notes" >
        <f:facet name="postinit">                        
            <h:outputStylesheet library="primefaces-mobile" name="calendar/calendar.css"  />

            <h:outputScript library="primefaces-mobile" name="calendar/calendar.js" />            

            <script type="text/javascript">
                (function($) {
                    $.mobiscroll.i18n['en-UK'] = $.extend($.mobiscroll.i18n['en-UK'], {
                        // Core
                        setText: 'Set',
                        cancelText: 'Cancel',
                        // Datetime component
                        dateFormat: 'dd/mm/yy',
                        dateOrder: 'ddmmyy',
                        dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
                        dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
                        dayText: 'Day',
                        hourText: 'Hours',
                        minuteText: 'Minutes',
                        monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                        monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                        monthText: 'Month',
                        secText: 'Seconds',
                        timeFormat: 'hh:ii A',
                        timeWheels: 'hhiiA',
                        yearText: 'Year',
                        nowText: 'Now',
                        // Measurement components
                        wholeText: 'Whole',
                        fractionText: 'Fraction',
                        unitText: 'Unit',
                        // Time / Timespan component
                        labels: ['Years', 'Months', 'Days', 'Hours', 'Minutes', 'Seconds', ''],
                        labelsShort: ['Yrs', 'Mths', 'Days', 'Hrs', 'Mins', 'Secs', ''],
                        // Timer component
                        startText: 'Start',
                        stopText: 'Stop',
                        resetText: 'Reset',
                        lapText: 'Lap',
                        hideText: 'Hide'
                    });
                })(jQuery);
            </script>
        </f:facet>   

        <style>
            .th-groups th {
                text-align: center;
                background-color: rgba(0,0,0,.1);
                border-right: 1px solid #fff;
            }
            .ui-li-custom .ui-li-count {
                right: 10px !important;
            }                
        </style>        
        <!-- Main View  -->
        <pm:view id="createCustomerNotes" swatch="b" > 
            <pm:header title="Create Notes">
                <f:facet name="left"><p:button value="Back" icon="back" onclick="PrimeFaces.back()"/></f:facet>
            </pm:header>
            <pm:content >  
                <p:dialog id="createNotesDialog" widgetVar="createNotesDlg">
                    <h:form id="dlgForm">  
                        <h4>#{configMapController.getKey('CreateNotesLabel_comments')}</h4>
                        <p:inputTextarea id="comments"  value="#{notesController.selected.note}"  />

                        <p:spacer height="10em" />
                        <p:commandButton oncomplete="PF('createNotesDlg').hide()" action="#{notesController.createFromMobile()}" value="#{configMapController.getKey('CreateNotesSaveLink')}" update=":notesForm:notesList,:dlgForm:comments"/>
                    </h:form>
                </p:dialog> 
                <p:outputPanel >
                    <h:form id="notesForm">  
                        <p:growl/>
                        <h:outputText value="#{notesController.selectedUser.firstname} #{notesController.selectedUser.lastname}"/>
                        <p:spacer height="10em" /><br/>
                       <!-- <h:outputText value="Email: #{notesController.selectedUser.emailAddress}"/>-->
                       <h:outputLink value="mailto:#{notesController.selectedUser.emailAddress}">
                            <h:outputText value="Email: #{notesController.selectedUser.emailAddress}" />
                        </h:outputLink>
                        <p:spacer height="10em" /><br/> 
                        <h:outputLink value="tel:#{notesController.selectedUser.telephone}">
                            <h:outputText value="Phone: #{notesController.selectedUser.telephone}" />
                        </h:outputLink>
                        <!--<p:commandLink  value="Phone: #{notesController.selectedUser.telephone} "/>-->
                        <p:spacer height="10em" />


                        <p:commandButton   type="button"   onclick="PF('createNotesDlg').show()"  value="#{configMapController.getKey('CreateNotesCreateLink')}" />


                        <p:spacer height="10em" />
                        <p:dataList  id="notesList" widgetVar="notesDataList" value="#{notesController.customerNoteItems}" var="notes">
                            <p:column>
                                <h3><p:outputLabel value="#{notes.createTimestamp}">
                                        <f:convertDateTime pattern="dd MMM yyyy  HH:mm" />
                                    </p:outputLabel></h3> <br/>
                                <h:outputText value="#{notes.note}"/>

                            </p:column>
                        </p:dataList>

                    </h:form>
                </p:outputPanel>
            </pm:content>
        </pm:view>
    </pm:page>
</f:view>
