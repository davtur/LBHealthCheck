<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pm="http://primefaces.org/mobile">
    
    <f:view renderKitId="PRIMEFACES_MOBILE" />

  <h:head>
     
    </h:head>

    <h:body>


           
        <!-- Main View  -->
         <pm:page id="sessions" title="Manly Beach Female Fitness Session" >
            <pm:header  swatch="b" title="Update Training Sessions">
                
                <f:facet name="left">
                    <h:form id="sessionsForm2">  
                        <p:commandButton value="Back" style="width:100px" icon="back" action="/mobileMenu?faces-redirect=true" ajax="false"/>
                </h:form>
                </f:facet>
                
            </pm:header>
            <pm:content >                
                <p:outputPanel >
                    <h:form id="sessionsForm">  
                        <p:growl  showDetail="true"/>
                        <p:panelGrid columns="1">
                        <p:commandButton  value="Log New Session" action="#{sessionHistoryController.prepareCreateMobileReturnCreate}" icon="plus"  ajax="false" />
                         <h:outputText value="Please edit group sessions below instead of creating a new session for the same timeslot.(Group sessions are now created automatically from the timetable)"/>
                        </p:panelGrid>
                        <p:dataList    value="#{sessionHistoryController.sessionHistoryItems}" var="sess">
                            <p:column>
                                <p:commandLink action="/trainer/sessionHistory/CreateSessionMobile?faces-redirect=true" ajax="false" >
                                    <h:outputText value="#{sess.sessiondate}">
                                        <f:convertDateTime pattern="dd MMM yyyy  HH:mm" />
                                    </h:outputText> 
                                    <h:outputText value=" - #{sess.sessionTypesId.name}"/>
                                    <h:outputText styleClass="ui-li-count" value="Edit"/>
                                    <!--<h:outputText styleClass="ui-li-count" value="#{sess.participantsCollection.size}" converter="#{javax.faces.convert.IntegerConverter}" />-->
                                       
                                  
                                    <f:setPropertyActionListener value="#{sess}" target="#{sessionHistoryController.selected}"  />
                                </p:commandLink> 
                            </p:column>
                        </p:dataList>
                    </h:form>
                </p:outputPanel>
            </pm:content>
      
    </pm:page>
   </h:body>
</html>
