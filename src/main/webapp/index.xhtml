<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/userTemplate.xhtml">
        <ui:define name="title">
            <h:outputText value="My Statistics"></h:outputText>




        </ui:define>
        <ui:define name="body">
            <h:form id="myStatsForm">
                <p:panel header="Welcome #{chartController.customer.firstname}" class="myStatsWelcomeHeader">
                    <p:panel class="customerDetailsPanel parentOfUploadPhoto profilePictureContainer" header="#{configMapController.getKey('ListCustomersTitle_ProfilePic')}" >
                        <h:panelGrid columns="1" class="profilePicture">
                            <p:graphicImage id="photo1" value="#{customersController.selected.profileImage.imageStream}"  cache="false" class="profilePicture"/>
                            <p:commandButton  id="photoUploadButton" ajax="true"  onclick="PF('uploadPhotoDialogueWidget').show();" update=":growl @(.parentOfUploadPhoto) "   value="#{configMapController.getKey('EditCustomersUploadPhotoButton')}" immediate="true"/>
                        </h:panelGrid>
                    </p:panel>
                </p:panel>


                <p:panel>
                    <p:contentFlow class="myStatsCarousel parentOfUploadPhoto" value="#{customerImagesController.images}" var="image"  style="height: 400px">
                        <p:graphicImage  styleClass="content" value="#{customerImagesController.dynamicImage}"  title="#{configMapController.getKey('ListMyStats_photoTakenText')} #{image.formattedDate}" alt="#{customerImagesController.dynamicTitle}" >
                            <f:param name="imageid" value="#{image.id}"/>
                            <f:param name="imagedescid" value="#{image.id}"/>
                            <f:param name="imagetitleid" value="#{image.id}"/>
                        </p:graphicImage>
                        <div class="caption">#{image.formattedDate}</div>
                       <!-- <p:commandButton  update=":growl @(.parentOfUploadPhoto) "  value="Delete">
                            <f:setPropertyActionListener value="#{image}" target="#{customerImagesController.selectedForDeletion}" />
                        </p:commandButton>-->
                    </p:contentFlow>
                </p:panel>


                   <!--     <p:carousel class="myStatsCarousel parentOfUploadPhoto" widgetVar="myStatsCarouselWidget" id="photoGalleryCarousel" value="#{customerImagesController.images}" headerText="#{configMapController.getKey('ListMyStats_GalleryHeader')}" var="image" numVisible="6" autoPlayInterval="0" effectDuration="2000" effect="elasticBoth" circular="false" >-->
                       <!--  <p:contentFlow class="myStatsCarousel parentOfUploadPhoto" value="#{customerImagesController.images}" var="image">
                             <f:facet name="header" >
                                  <p:commandButton onclick="PF('myStatsCarouselWidget').startAutoplay()"   icon="fa fa-play-circle-o" /> 
                                  <p:commandButton onclick="PF('myStatsCarouselWidget').stopAutoplay()" icon="fa fa-stop" />
  
  
                              </f:facet>
                              <p:panel class="customerDetailsPanel"  header="#{configMapController.getKey('ListMyStats_photoTakenText')}  #{image.formattedDate}">
                            <p:graphicImage styleClass="content" value="#{customerImagesController.dynamicImage}"  title="#{configMapController.getKey('ListMyStats_photoTakenText')} #{image.formattedDate}" alt="#{customerImagesController.dynamicTitle}">
                                <f:param name="imageid" value="#{image.id}"/>
                                <f:param name="imagedescid" value="#{image.id}"/>
                                <f:param name="imagetitleid" value="#{image.id}"/>
                            </p:graphicImage>
                            <div class="caption">#{image.formattedDate}</div>-->
                <!--      <h:panelGrid columns="1">
                        <p:commandButton update="@(.parentOfUploadPhoto) :growl"  value="Delete">

                            <f:setPropertyActionListener value="#{image}" target="#{customerImagesController.selectedForDeletion}" />
                        </p:commandButton>
                    </h:panelGrid>
                </p:panel>
                </p:carousel>
            </p:contentFlow>-->

                          <!--  <p:galleria widgetVar="galleriaWidget" var="image" value="#{customerImagesController.images}" panelWidth="667" panelHeight="500" showCaption="true" effect="#{customerImagesController.effect}" effectSpeed="1000">

                                <p:graphicImage value="#{customerImagesController.dynamicImage}"  title="#{configMapController.getKey('ListMyStats_photoTakenText')} #{image.formattedDate}" alt="#{customerImagesController.dynamicTitle}">
                                    <f:param name="imageid" value="#{image.id}"/>
                                    <f:param name="imagedescid" value="#{image.id}"/>
                                    <f:param name="imagetitleid" value="#{image.id}"/>
                                </p:graphicImage>

                            </p:galleria>
                        </p:panel>
                        <p:panel class="customerDetailsPanel" header="#{configMapController.getKey('ListMyStats_SelectedPic')}">
                            <h:panelGrid columns="1">
                                <p:graphicImage id="photo2" value="#{customerImagesController.selected.imageStream}" height="200px" cache="false" />
                                <p:commandButton  id="photoUploadButton2" ajax="true"  onclick="PF('uploadPhotoDialogueWidget').show();" update=":growl :uploadPhotoForm"   value="#{configMapController.getKey('EditCustomersUploadPhotoButton')}" immediate="true"/>
                            </h:panelGrid>-->

                <!--  <p:panel header="Photo Gallery" style="height: 500px">
                   <p:ring id="basic" value="#{customerImagesController.images}" var="image" easing="easeInOutCirc">
                       <p:column>
                #{image.formattedDate}
                 
                 <p:graphicImage value="#{customerImagesController.dynamicImage}"  title="This photo was taken on #{image.formattedDate}" width="200px"> 
                    <f:param name="imageid" value="#{image.id}"/>
                     </p:graphicImage>
                  <p:graphicImage value="#{customerImagesController.dynamicImage}"  title="This photo was taken on #{image.formattedDate}" alt="#{customerImagesController.dynamicTitle}">
                     <f:param name="imageid" value="#{image.id}"/>
                     <f:param name="imagedescid" value="#{image.id}"/>
                     <f:param name="imagetitleid" value="#{image.id}"/>
                 </p:graphicImage>
                <p:commandButton update=":form:carDetail" icon="ui-icon-search" title="View" oncomplete="PF('carDialog').show();">
                      <f:setPropertyActionListener value="#{image}" target="#{ringView.selectedCar}" />
                  </p:commandButton>
             </p:column>
         </p:ring>
     </p:panel>-->


            </h:form>
            <h:form>

                <p:panel header="#{configMapController.getKey('ListMyStats_StatsPanelHeader')}">
                    <p:dataList  value="#{chartController.modelList}"  var="chart" id="chartsList"  
                                 paginator="true" rows="10"  
                                 paginatorTemplate="{PreviousPageLink} {CurrentPageReport} {NextPageLink} {RowsPerPageDropdown}"  
                                 rowsPerPageTemplate="5,10,15" type="none">

                        <p:panel header="#{chart.title}">                    
                            <p:chart type="line" styleClass="chartClass"  model="#{chart}"/>
                        </p:panel>

                    </p:dataList>
                </p:panel>
            </h:form>
            <ui:include src="uploadPhoto.xhtml"/>
        </ui:define>
    </ui:composition>


</html>

